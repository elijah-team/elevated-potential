/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
  // Support convention plugins written in Groovy. Convention plugins are build scripts in 'src/main' that automatically become available as plugins in the main build.
  id 'groovy-gradle-plugin'

  id "io.ktor.plugin" version "2.3.4"

  id 'maven-publish'
}

repositories {
  // Use the plugin portal to apply community plugins in convention plugins.
  gradlePluginPortal()
    maven {url "https://plugins.gradle.org/m2"}
}

application {
  mainClass.set("tripleo.elijah.Main")
}

ktor {
  fatJar {
    def jarname = "fat" + new Date().toString() + ".jar"
    archiveFileName.set(jarname)
  }
}

publishing {
  publications {
    customLibrary(MavenPublication) {
      from components.java
    }
  }

    repositories {
        maven {
            name = 'sampleRepo'
            url = layout.buildDirectory.dir("repo")
        }
    }
}
